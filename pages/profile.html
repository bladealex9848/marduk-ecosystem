<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Perfil - Marduk</title>
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.min.css">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/search.css">
    <link rel="stylesheet" href="../css/fixes.css">

    <style>
        /* Profile specific styles */
        .avatar-container {
            width: 60px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Estilos inmunes a cambios de modo claro/oscuro */
        .profile-section {
            color: #fff !important;
        }

        .profile-section h2,
        .profile-section h3,
        .profile-section h4,
        .profile-section p,
        .profile-section span,
        .profile-section .text-muted,
        .profile-section .text-secondary {
            color: #fff !important;
        }

        .profile-section .progress {
            background-color: rgba(255, 255, 255, 0.2) !important;
        }

        .profile-level {
            background-color: rgba(0, 0, 0, 0.2);
            color: #fff;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 10px;
        }

        .avatar-img-container {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            overflow: hidden;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .avatar-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .badge-item, .badge-item-unlock {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background-color: rgba(var(--bs-primary-rgb), 0.1);
            color: var(--bs-primary);
            transition: all 0.2s ease;
        }

        .badge-item:hover {
            transform: scale(1.05);
            background-color: rgba(var(--bs-primary-rgb), 0.15);
        }

        .badge-item i {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
        }

        .badge-item-unlock {
            background-color: rgba(var(--bs-secondary-rgb), 0.1);
            color: var(--bs-secondary);
            border: 1px dashed var(--bs-secondary);
        }

        .dashboard-banner {
            background: linear-gradient(135deg, #4e73df 0%, #224abe 100%);
        }

        .bg-gradient-blue {
            background: linear-gradient(135deg, #4e73df 0%, #224abe 100%);
        }

        .bg-gradient-green {
            background: linear-gradient(135deg, #1cc88a 0%, #13855c 100%);
        }

        .bg-gradient-purple {
            background: linear-gradient(135deg, #8540bd 0%, #5a2c82 100%);
        }

        .bg-gradient-orange {
            background: linear-gradient(135deg, #f6c23e 0%, #dda20a 100%);
        }

        .bg-blue-soft {
            background-color: rgba(78, 115, 223, 0.1);
        }

        .bg-green-soft {
            background-color: rgba(28, 200, 138, 0.1);
        }

        .bg-orange-soft {
            background-color: rgba(246, 194, 62, 0.1);
        }

        .bg-purple-soft {
            background-color: rgba(133, 64, 189, 0.1);
        }

        .bg-amber-soft {
            background-color: rgba(255, 193, 7, 0.1);
        }

        .text-amber {
            color: #ffc107;
        }

        .text-orange {
            color: #fd7e14;
        }

        .text-purple {
            color: #8540bd;
        }

        /* Role-specific colors */
        .border-purple {
            border-color: #8540bd !important;
        }

        .border-orange {
            border-color: #fd7e14 !important;
        }

        .bg-purple {
            background-color: #8540bd !important;
        }

        .bg-orange {
            background-color: #fd7e14 !important;
        }

        .btn-outline-purple {
            color: #8540bd;
            border-color: #8540bd;
        }

        .btn-outline-purple:hover {
            color: #fff;
            background-color: #8540bd;
            border-color: #8540bd;
        }

        .btn-outline-orange {
            color: #fd7e14;
            border-color: #fd7e14;
        }

        .btn-outline-orange:hover {
            color: #fff;
            background-color: #fd7e14;
            border-color: #fd7e14;
        }

        /* Profile cards styles */
        .profile-card {
            transition: all 0.3s ease;
            border: 1px solid #dee2e6;
        }

        .profile-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            border-color: var(--bs-primary);
        }

        .cursor-pointer {
            cursor: pointer;
        }

        .transition-all {
            transition: all 0.3s ease;
        }

        /* Solution icon styles */
        .solution-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .two-lines {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Additional color classes */
        .bg-teal-soft {
            background-color: rgba(32, 201, 151, 0.1);
        }

        .text-teal {
            color: #20c997;
        }

        .bg-red-soft {
            background-color: rgba(220, 53, 69, 0.1);
        }

        .text-danger {
            color: #dc3545;
        }

        .hover-shadow-sm {
            transition: all 0.3s ease;
        }

        .hover-shadow-sm:hover {
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
    </style>

    <!-- Tema oscuro/claro -->
    <script>
      // Verificar preferencia guardada
      const darkModeEnabled = localStorage.getItem('darkModeEnabled') === 'true';
      // Verificar preferencia del sistema
      const prefersDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches;

      // Aplicar tema oscuro si está habilitado o preferido por el sistema
      if (darkModeEnabled || (prefersDarkMode && darkModeEnabled !== 'false')) {
        document.documentElement.setAttribute('data-theme', 'dark');
        document.body.classList.add('dark-mode');
        localStorage.setItem('darkModeEnabled', 'true');
      }
    </script>
</head>
<body>
    <!-- Header/Navbar -->
    <header class="navbar navbar-expand-lg navbar-dark bg-gradient sticky-top">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="../index.html">
                <i class="fas fa-balance-scale me-2"></i>
                <span>Marduk</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="../index.html"><i class="fas fa-home me-1"></i> Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="solutions.html"><i class="fas fa-tools me-1"></i> Soluciones</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="profile.html"><i class="fas fa-user me-1"></i> Mi Perfil</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="community.html"><i class="fas fa-users me-1"></i> Comunidad</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="ai-test.html"><i class="fas fa-robot me-1"></i> Prueba IA</a>
                    </li>
                </ul>
                <div class="d-flex align-items-center">
                    <!-- Search Form -->
                    <form class="d-flex me-2 search-container">
                        <div class="position-relative w-100">
                            <i class="fas fa-search position-absolute top-50 start-0 translate-middle-y ms-3 text-muted"></i>
                            <input class="form-control ps-5" type="search" placeholder="Buscar..." aria-label="Search">
                        </div>
                    </form>
                    <!-- Theme Toggle -->
                    <button id="themeToggle" class="btn btn-link text-light me-3">
                        <i class="fas fa-moon"></i>
                    </button>
                    <!-- Notifications Dropdown -->
                    <div class="dropdown me-2">
                        <button class="btn btn-link text-light position-relative p-1" type="button" id="notificationsDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-bell"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                                3
                            </span>
                        </button>
                        <div class="dropdown-menu dropdown-menu-end notification-dropdown p-0 overflow-hidden" aria-labelledby="notificationsDropdown">
                            <!-- Notification header -->
                            <div class="d-flex justify-content-between align-items-center p-3 border-bottom">
                                <h6 class="mb-0">Notificaciones</h6>
                                <a href="#" class="text-decoration-none small">Marcar todas como leídas</a>
                            </div>
                            <!-- Notification items -->
                            <div class="notification-list">
                                <a href="#" class="notification-item d-flex p-3 border-bottom unread">
                                    <div class="flex-shrink-0">
                                        <div class="avatar-circle bg-primary text-white">
                                            <i class="fas fa-gavel"></i>
                                        </div>
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <p class="mb-0 fw-medium">Nueva actualización en el caso #12345</p>
                                        <p class="text-muted small mb-0">Se ha añadido un nuevo documento</p>
                                        <span class="text-muted small">Hace 5 minutos</span>
                                    </div>
                                </a>
                                <!-- More notification items... -->
                            </div>
                            <!-- View all link -->
                            <a href="#" class="dropdown-item text-center p-3 border-top">Ver todas las notificaciones</a>
                        </div>
                    </div>
                    <!-- User Menu -->
                    <div class="dropdown">
                        <button class="btn btn-link d-flex align-items-center text-light text-decoration-none dropdown-toggle" type="button" id="userMenu" data-bs-toggle="dropdown" aria-expanded="false">
                            <div class="avatar-circle avatar-circle-sm bg-primary text-white me-2">
                                AG
                            </div>
                            <span class="d-none d-md-block">Ana María González</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userMenu">
                            <li><a class="dropdown-item" href="profile.html"><i class="fas fa-user me-2"></i> Mi Perfil</a></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-cog me-2"></i> Configuración</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="fas fa-sign-out-alt me-2"></i> Cerrar Sesión</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container py-4">
        <!-- Profile Banner -->
        <div class="card border-0 bg-gradient mb-4 rounded-3 dashboard-banner profile-section" id="profileBanner">
            <div class="card-body text-white p-4">
                <h1 class="h3 fw-bold" id="profileTitle">Panel de Funcionario Judicial</h1>
                <p class="mb-3 opacity-90">Soluciones personalizadas para su rol en el sistema judicial</p>

                <div class="row align-items-center">
                    <div class="col-md-6 mb-4 mb-md-0">
                        <div class="d-flex align-items-center">
                            <div class="avatar-img-container me-4">
                                <img src="../images/users/user-female-1.jpg" alt="Ana María González" class="avatar-img rounded-circle" id="profileAvatar">
                            </div>
                            <div>
                                <h2 class="h5 fw-semibold mb-0" id="profileName">Ana María González</h2>
                                <p class="mb-0 small" id="profileRole">Juez Civil Municipal</p>
                                <p class="mb-0 small" id="profileLocation">Bogotá</p>
                                <p class="mb-0 small opacity-75 mt-1" id="profileSpecialty">Derecho Civil</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6 d-flex justify-content-md-end">
                        <div class="d-flex text-center gap-4">
                            <div>
                                <h3 class="h4 fw-bold mb-0" id="profileFavorites">7</h3>
                                <p class="small opacity-75">Favoritos</p>
                            </div>
                            <div>
                                <h3 class="h4 fw-bold mb-0" id="profileContributions">3</h3>
                                <p class="small opacity-75">Contribuciones</p>
                            </div>
                            <div>
                                <h3 class="h4 fw-bold mb-0" id="profileNotifications">4</h3>
                                <p class="small opacity-75">Notificaciones</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mt-4 g-3">
                    <div class="col-md-4">
                        <div class="bg-white bg-opacity-20 rounded p-3 d-flex align-items-center">
                            <div class="bg-white bg-opacity-30 p-2 rounded-circle text-white me-3">
                                <i class="fa-solid fa-briefcase"></i>
                            </div>
                            <div>
                                <p class="small opacity-80 mb-0">Procesos activos</p>
                                <p class="h4 fw-bold mb-0" id="metric1">28</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="bg-white bg-opacity-20 rounded p-3 d-flex align-items-center">
                            <div class="bg-white bg-opacity-30 p-2 rounded-circle text-white me-3">
                                <i class="fa-solid fa-calendar"></i>
                            </div>
                            <div>
                                <p class="small opacity-80 mb-0">Audiencias pendientes</p>
                                <p class="h4 fw-bold mb-0" id="metric2">5</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="bg-white bg-opacity-20 rounded p-3 d-flex align-items-center">
                            <div class="bg-white bg-opacity-30 p-2 rounded-circle text-white me-3">
                                <i class="fa-solid fa-bell"></i>
                            </div>
                            <div>
                                <p class="small opacity-80 mb-0">Notificaciones hoy</p>
                                <p class="h4 fw-bold mb-0" id="metric3">12</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row g-4">
            <!-- Left column (2/3) -->
            <div class="col-lg-8">
                <!-- Gamification Progress -->
                <div class="card border-0 shadow-sm mb-4 overflow-hidden">
                    <div class="card-header bg-gradient-primary p-4 text-white border-0 profile-section">
                        <div class="d-flex justify-content-between align-items-center">
                            <h2 class="h5 fw-bold mb-0">Mi Progreso Judicial</h2>
                            <span class="profile-level px-3 py-1 rounded-pill small" id="userLevel">
                                Nivel 3: Innovador Digital
                            </span>
                        </div>

                        <div class="mt-3">
                            <div class="d-flex justify-content-between small mb-1" id="xpProgress">
                                <span>450 XP</span>
                                <span>750 XP</span>
                            </div>
                            <div class="progress bg-white bg-opacity-20" style="height: 10px;">
                                <div class="progress-bar bg-info" role="progressbar" style="width: 60%;"
                                    aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" id="xpProgressBar"></div>
                            </div>
                            <p class="small mt-1 opacity-80" id="xpToNextLevel">300 XP para el siguiente nivel</p>
                        </div>

                        <div class="mt-4 d-flex flex-wrap gap-2" id="badgesContainer">
                            <div class="badge-item" title="Contribuidor Activo">
                                <i class="fa-solid fa-award"></i>
                                <span class="small mt-1">Contribuidor</span>
                            </div>
                            <div class="badge-item" title="Analista de Datos">
                                <i class="fa-solid fa-chart-bar"></i>
                                <span class="small mt-1">Analista</span>
                            </div>
                            <div class="badge-item" title="Explorador Innovador">
                                <i class="fa-solid fa-compass"></i>
                                <span class="small mt-1">Explorador</span>
                            </div>
                            <div class="badge-item-unlock" title="Desbloquea más insignias">
                                <i class="fa-solid fa-plus-circle"></i>
                                <span class="small mt-1">Más</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-body p-4">
                        <h3 class="h6 fw-medium mb-3">Objetivos actuales</h3>
                        <div class="mb-4" id="objectivesContainer">
                            <div class="d-flex mb-3">
                                <div class="rounded-circle bg-primary bg-opacity-10 p-2 me-3 text-primary d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                    <i class="fa-solid fa-comments"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h4 class="small fw-medium">Participa en 3 discusiones</h4>
                                    <div class="progress mt-1" style="height: 6px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 33%;"
                                            aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between small text-muted mt-1">
                                        <span>1/3 completado</span>
                                        <span>+75 XP</span>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex mb-3">
                                <div class="rounded-circle bg-primary bg-opacity-10 p-2 me-3 text-primary d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                    <i class="fa-solid fa-star"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h4 class="small fw-medium">Valora 5 aplicaciones</h4>
                                    <div class="progress mt-1" style="height: 6px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 60%;"
                                            aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between small text-muted mt-1">
                                        <span>3/5 completado</span>
                                        <span>+50 XP</span>
                                    </div>
                                </div>
                            </div>

                            <div class="d-flex">
                                <div class="rounded-circle bg-primary bg-opacity-10 p-2 me-3 text-primary d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                    <i class="fa-solid fa-share-alt"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h4 class="small fw-medium">Comparte 2 recursos</h4>
                                    <div class="progress mt-1" style="height: 6px;">
                                        <div class="progress-bar bg-primary" role="progressbar" style="width: 0%;"
                                            aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <div class="d-flex justify-content-between small text-muted mt-1">
                                        <span>0/2 completado</span>
                                        <span>+100 XP</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="border-top pt-4">
                            <h3 class="h6 fw-medium mb-3">Mi Impacto</h3>
                            <div class="row g-4">
                                <div class="col-md-3">
                                    <div class="border border-primary border-opacity-25 rounded p-3 text-center">
                                        <h4 class="h6 fw-medium text-primary mb-2">Tiempo ahorrado</h4>
                                        <p class="h4 fw-bold text-primary mb-0">42h</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="border border-success border-opacity-25 rounded p-3 text-center">
                                        <h4 class="h6 fw-medium text-success mb-2">Docs. digitalizados</h4>
                                        <p class="h4 fw-bold text-success mb-0">184</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="border border-info border-opacity-25 rounded p-3 text-center">
                                        <h4 class="h6 fw-medium text-info mb-2">Procesos optimizados</h4>
                                        <p class="h4 fw-bold text-info mb-0">16</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="border border-warning border-opacity-25 rounded p-3 text-center">
                                        <h4 class="h6 fw-medium text-warning mb-2">Eficiencia</h4>
                                        <p class="h4 fw-bold text-warning mb-0">+35%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recommended Solutions Section -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body p-4">
                        <h2 class="h5 fw-bold mb-4">Soluciones Recomendadas para Ti</h2>
                        <div class="row g-4" id="recommendedSolutions">
                            <!-- SGEJ Solution Card -->
                            <div class="col-md-6">
                                <div class="card h-100 border hover-shadow-sm transition-all cursor-pointer" onclick="location.href='solutions.html?app=1'">
                                    <div class="card-body p-3">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="solution-icon bg-gradient-blue me-3">
                                                <i class="fa-solid fa-file-lines"></i>
                                            </div>
                                            <div>
                                                <h3 class="card-title h6 fw-semibold mb-0 text-truncate">Sistema de Gestión de Expedientes</h3>
                                                <div class="d-flex align-items-center small mt-1">
                                                    <span class="badge bg-teal-soft text-teal">Consolidada</span>
                                                    <span class="ms-2 d-flex align-items-center text-primary small">
                                                        <i class="fa-solid fa-shield-alt me-1 small"></i>Oficial
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <p class="card-text small text-secondary mb-3 two-lines">
                                            Sistema integral para la gestión digital de expedientes judiciales, facilitando el acceso, búsqueda y seguimiento de información.
                                        </p>

                                        <div class="d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center">
                                                <i class="fa-solid fa-star text-warning me-1"></i>
                                                <span class="small fw-medium">4.8</span>
                                            </div>
                                            <button class="btn btn-link text-primary btn-sm p-0">Ver detalles</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- OmniChat Solution Card -->
                            <div class="col-md-6">
                                <div class="card h-100 border hover-shadow-sm transition-all cursor-pointer" onclick="location.href='solutions.html?app=2'">
                                    <div class="card-body p-3">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="solution-icon bg-gradient-purple me-3">
                                                <i class="fa-solid fa-comments"></i>
                                            </div>
                                            <div>
                                                <h3 class="card-title h6 fw-semibold mb-0 text-truncate">OmniChat: Asistente Virtual</h3>
                                                <div class="d-flex align-items-center small mt-1">
                                                    <span class="badge bg-green-soft text-teal">Producción</span>
                                                    <span class="ms-2 d-flex align-items-center text-primary small">
                                                        <i class="fa-solid fa-shield-alt me-1 small"></i>Oficial
                                                    </span>
                                                </div>
                                            </div>
                                        </div>

                                        <p class="card-text small text-secondary mb-3 two-lines">
                                            Asistente virtual versátil que integra múltiples fuentes de información judicial, democratizando el acceso a información judicial compleja.
                                        </p>

                                        <div class="d-flex justify-content-between align-items-center">
                                            <div class="d-flex align-items-center">
                                                <i class="fa-solid fa-star text-warning me-1"></i>
                                                <span class="small fw-medium">4.7</span>
                                            </div>
                                            <button class="btn btn-link text-primary btn-sm p-0">Ver detalles</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="text-center mt-4">
                            <a href="solutions.html" class="btn btn-primary">Ver todas las soluciones</a>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body p-4">
                        <h2 class="h5 fw-bold mb-4">Actividad Reciente</h2>
                        <div class="list-group list-group-flush">
                            <div class="list-group-item border-0 ps-0">
                                <div class="d-flex">
                                    <div class="bg-blue-soft p-2 rounded me-3">
                                        <i class="fa-solid fa-download text-primary"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <h3 class="h6 fw-medium mb-0">Instalaste una aplicación</h3>
                                            <span class="text-muted small">Hace 2 días</span>
                                        </div>
                                        <p class="text-secondary small mb-0">Instalaste <strong>Sistema de Gestión de Expedientes Electrónicos</strong> en tu cuenta.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="list-group-item border-0 ps-0">
                                <div class="d-flex">
                                    <div class="bg-amber-soft p-2 rounded me-3">
                                        <i class="fa-solid fa-star text-warning"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <h3 class="h6 fw-medium mb-0">Valoraste una aplicación</h3>
                                            <span class="text-muted small">Hace 3 días</span>
                                        </div>
                                        <p class="text-secondary small mb-0">Valoraste <strong>JudiCalc</strong> con 5 estrellas.</p>
                                    </div>
                                </div>
                            </div>

                            <div class="list-group-item border-0 ps-0">
                                <div class="d-flex">
                                    <div class="bg-red-soft p-2 rounded me-3">
                                        <i class="fa-solid fa-heart text-danger"></i>
                                    </div>
                                    <div class="flex-grow-1">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <h3 class="h6 fw-medium mb-0">Añadiste a favoritos</h3>
                                            <span class="text-muted small">Hace 1 semana</span>
                                        </div>
                                        <p class="text-secondary small mb-0">Añadiste <strong>MALLO (MultiAgent LLM Orchestrator)</strong> a tus favoritos.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right column (1/3) -->
            <div class="col-lg-4">
                <!-- User Bio -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body p-4">
                        <h2 class="h5 fw-bold mb-3">Acerca de mí</h2>
                        <p class="text-secondary small mb-4" id="userBio">
                            Especializada en procesos civiles con énfasis en derechos reales y contratos. Más de 10 años de experiencia en el sistema judicial colombiano.
                        </p>

                        <div class="d-flex align-items-center mb-3">
                            <i class="fa-solid fa-building text-secondary me-3"></i>
                            <div>
                                <p class="small text-muted mb-0">Juzgado</p>
                                <p class="small fw-medium mb-0">Juzgado Civil Municipal No. 12</p>
                            </div>
                        </div>

                        <div class="d-flex align-items-center mb-3">
                            <i class="fa-solid fa-graduation-cap text-secondary me-3"></i>
                            <div>
                                <p class="small text-muted mb-0">Educación</p>
                                <p class="small fw-medium mb-0">Universidad Nacional de Colombia</p>
                            </div>
                        </div>

                        <div class="d-flex align-items-center">
                            <i class="fa-solid fa-briefcase text-secondary me-3"></i>
                            <div>
                                <p class="small text-muted mb-0">Experiencia</p>
                                <p class="small fw-medium mb-0">10+ años en administración de justicia</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resources -->
                <div class="card border-0 shadow-sm mb-4">
                    <div class="card-body p-4">
                        <h2 class="h5 fw-bold mb-4">Recursos</h2>

                        <div class="list-group list-group-flush" id="resourcesList">
                            <div class="list-group-item px-0 py-3 d-flex align-items-center border-0">
                                <div class="p-3 rounded bg-blue-soft text-primary me-3">
                                    <i class="fa-solid fa-file-alt"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h3 class="h6 fw-medium mb-0">Guía de Expediente Electrónico</h3>
                                    <p class="small text-muted mb-0">PDF • 3.4 MB</p>
                                </div>
                                <a href="#" class="btn btn-outline-primary btn-sm">Acceder</a>
                            </div>

                            <div class="list-group-item px-0 py-3 d-flex align-items-center border-0">
                                <div class="p-3 rounded bg-green-soft text-success me-3">
                                    <i class="fa-solid fa-video"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h3 class="h6 fw-medium mb-0">Tutorial de JudiCalc</h3>
                                    <p class="small text-muted mb-0">Video • 12:35 min</p>
                                </div>
                                <a href="#" class="btn btn-outline-primary btn-sm">Acceder</a>
                            </div>

                            <div class="list-group-item px-0 py-3 d-flex align-items-center border-0">
                                <div class="p-3 rounded bg-amber-soft text-amber me-3">
                                    <i class="fa-solid fa-calculator"></i>
                                </div>
                                <div class="flex-grow-1">
                                    <h3 class="h6 fw-medium mb-0">Calculadora de Términos</h3>
                                    <p class="small text-muted mb-0">Herramienta</p>
                                </div>
                                <a href="#" class="btn btn-outline-primary btn-sm">Acceder</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Settings -->
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <div class="d-flex justify-content-between align-items-center mb-4">
                            <h2 class="h5 fw-bold mb-0">Configuración del Perfil</h2>
                            <button class="btn btn-sm btn-primary">
                                Editar Perfil
                            </button>
                        </div>

                        <div class="list-group list-group-flush">
                            <a href="#" class="list-group-item border-0 px-0 py-3 d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="fa-solid fa-user text-secondary me-3"></i>
                                    <span>Información Personal</span>
                                </div>
                                <i class="fa-solid fa-chevron-right text-muted"></i>
                            </a>

                            <a href="#" class="list-group-item border-0 px-0 py-3 d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="fa-solid fa-bell text-secondary me-3"></i>
                                    <span>Notificaciones</span>
                                </div>
                                <i class="fa-solid fa-chevron-right text-muted"></i>
                            </a>

                            <a href="#" class="list-group-item border-0 px-0 py-3 d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="fa-solid fa-shield-alt text-secondary me-3"></i>
                                    <span>Privacidad y Seguridad</span>
                                </div>
                                <i class="fa-solid fa-chevron-right text-muted"></i>
                            </a>

                            <a href="#" class="list-group-item border-0 px-0 py-3 d-flex justify-content-between align-items-center">
                                <div class="d-flex align-items-center">
                                    <i class="fa-solid fa-cog text-secondary me-3"></i>
                                    <span>Preferencias</span>
                                </div>
                                <i class="fa-solid fa-chevron-right text-muted"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-light py-4 mt-auto border-top">
        <div class="container">
            <div class="row justify-content-between align-items-center">
                <div class="col-md-4 mb-3 mb-md-0">
                    <h5 class="h6 fw-bold text-primary">Marduk</h5>
                    <p class="small text-secondary mb-0">Ecosistema de soluciones para la transformación judicial</p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0 text-center">
                    <div class="d-flex flex-wrap justify-content-center gap-3">
                        <a href="#" class="text-decoration-none text-secondary small">Acerca de</a>
                        <a href="#" class="text-decoration-none text-secondary small">Políticas</a>
                        <a href="#" class="text-decoration-none text-secondary small">Contribuir</a>
                        <a href="#" class="text-decoration-none text-secondary small">Soporte</a>
                    </div>
                </div>
                <div class="col-md-4 text-md-end">
                    <p class="small text-muted mb-0">© 2025 Rama Judicial de Colombia</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Bootstrap 5.3 Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.5/dist/sweetalert2.all.min.js"></script>
    <!-- Toastify JS -->
    <script src="https://cdn.jsdelivr.net/npm/toastify-js@1.12.0/src/toastify.min.js"></script>

    <!-- Inicializar el toggle de tema -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Inicializar el toggle de tema
        const themeToggle = document.getElementById('themeToggle');
        if (themeToggle) {
          // Actualizar el icono según el tema actual
          if (document.body.classList.contains('dark-mode')) {
            themeToggle.querySelector('i').classList.remove('fa-moon');
            themeToggle.querySelector('i').classList.add('fa-sun');
          }

          // Agregar evento de click
          themeToggle.addEventListener('click', function() {
            const isDarkMode = document.body.classList.contains('dark-mode');
            if (isDarkMode) {
              document.documentElement.removeAttribute('data-theme');
              document.body.classList.remove('dark-mode');
              localStorage.setItem('darkModeEnabled', 'false');
            } else {
              document.documentElement.setAttribute('data-theme', 'dark');
              document.body.classList.add('dark-mode');
              localStorage.setItem('darkModeEnabled', 'true');
            }

            // Actualizar el icono
            const themeIcon = themeToggle.querySelector('i');
            if (document.body.classList.contains('dark-mode')) {
              themeIcon.classList.remove('fa-moon');
              themeIcon.classList.add('fa-sun');
            } else {
              themeIcon.classList.remove('fa-sun');
              themeIcon.classList.add('fa-moon');
            }
          });
        }
      });
    </script>

    <!-- Configuración de módulos -->
    <script type="module">
      // Importar módulos
      import openRouterService from '../js/openrouter.js';
      import themeManager from '../js/theme-manager.js';

      // Hacer disponibles globalmente
      window.openRouterService = openRouterService;
      window.themeManager = themeManager;
    </script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom Scripts -->
    <script src="../js/main.js"></script>
    <script src="../js/profile.js"></script>

    <!-- Inicialización de Toasts -->
    <script>
      // Configuración global para Toastify
      const showToast = (message, type = 'info') => {
        const bgColors = {
          success: 'linear-gradient(to right, #00b09b, #96c93d)',
          error: 'linear-gradient(to right, #ff5f6d, #ffc371)',
          warning: 'linear-gradient(to right, #f7b733, #fc4a1a)',
          info: 'linear-gradient(to right, #2193b0, #6dd5ed)'
        };

        Toastify({
          text: message,
          duration: 3000,
          close: true,
          gravity: "top",
          position: "right",
          backgroundColor: bgColors[type],
          stopOnFocus: true,
          className: `toast-${type}`
        }).showToast();
      };

      // Hacer disponible globalmente
      window.showToast = showToast;
    </script>
</body>
</html>